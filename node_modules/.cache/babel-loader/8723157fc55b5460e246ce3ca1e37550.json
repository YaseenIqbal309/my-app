{"ast":null,"code":"import { r as registerInstance, h, g as getElement } from \"./index-6a8d4a1b.js\";\n\nvar inBetween = function (e, t, i) {\n  if (e < t) {\n    return t;\n  }\n\n  if (e > i) {\n    return i;\n  }\n\n  return e;\n};\n\nvar imgComparisonSliderCss = ':host{--divider-width:1px;--divider-color:#d7d7d7;--handle-size:40px;--handle-color:#d7d7d7;--handle-opacity:0.5;--handle-opacity-active:0;position:relative;display:inline-block;font-size:0;overflow:hidden;isolation:isolate;line-height:0}:host(:focus) .handle-wrapper{opacity:var(--handle-opacity-active)}::slotted(img){-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;user-drag:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.before{position:relative;z-index:-2}.after{position:absolute;left:0;top:0;bottom:0;z-index:-1}.after .after-overlay{overflow:hidden}.after:before{content:\" \";position:absolute;display:block;right:calc(var(--divider-width) * -0.5);top:0;bottom:0;border-right-width:var(--divider-width);border-right-style:solid;border-right-color:var(--divider-color)}.handle-wrapper{position:absolute;width:var(--handle-size);height:var(--handle-size);margin-top:calc(var(--handle-size) / (-2));margin-right:calc(var(--handle-size) / (-2));top:50%;right:0;pointer-events:none;-webkit-box-sizing:border-box;box-sizing:border-box;opacity:var(--handle-opacity);-webkit-transition:opacity 1s;transition:opacity 1s}.handle{background-color:var(--handle-color);width:var(--handle-size);height:var(--handle-size);-webkit-transition:-webkit-transform 1s;transition:-webkit-transform 1s;transition:transform 1s;transition:transform 1s, -webkit-transform 1s;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-box-shadow:0px 0px 15px 0px rgba(0, 0, 0, 0.75);box-shadow:0px 0px 15px 0px rgba(0, 0, 0, 0.75)}.focused .handle{-webkit-transform:rotate(45deg) scale(1.5);transform:rotate(45deg) scale(1.5)}';\n\nvar getTouchPagePoint = function (e) {\n  return {\n    x: e.touches[0].pageX,\n    y: e.touches[0].pageY\n  };\n};\n\nvar KeySlideOffset = {\n  ArrowLeft: -1,\n  ArrowRight: 1\n};\n\nvar ImgComparisonSlider = function () {\n  function e(e) {\n    var t = this;\n    registerInstance(this, e);\n    this.exposure = 50;\n    this.isMouseDown = false;\n    this.isFocused = false;\n\n    this.onWindowMouseMove = function (e) {\n      if (t.isMouseDown) {\n        t.slideToPageX(e.pageX);\n      }\n    };\n\n    this.bodyUserSelectStyle = \"\";\n    this.isTouchComparing = false;\n    this.hasTouchMoved = false;\n  }\n\n  e.prototype.componentWillLoad = function () {\n    var e = this;\n    this.el.querySelectorAll(\"img\").forEach(function (t) {\n      t.addEventListener(\"dragstart\", function (e) {\n        e.preventDefault();\n      });\n      t.addEventListener(\"load\", function () {\n        e.updateAfterWidth();\n      });\n    });\n  };\n\n  e.prototype.componentDidRender = function () {\n    this.slide(0);\n    this.updateAfterWidth();\n    this.el.setAttribute(\"tabindex\", \"0\");\n  };\n\n  e.prototype.disconnectedCallback = function () {\n    if (this.transitionTimer) {\n      window.clearTimeout(this.transitionTimer);\n    }\n  };\n\n  e.prototype.slide = function (e, t) {\n    var i = this;\n\n    if (e === void 0) {\n      e = 0;\n    }\n\n    if (t === void 0) {\n      t = false;\n    }\n\n    this.exposure = inBetween(this.exposure + e, 0, 100);\n\n    if (t) {\n      var o = 100;\n      this.after.style.transition = \"width \" + o + \"ms\";\n      this.transitionTimer = window.setTimeout(function () {\n        i.after.style.transition = null;\n        i.transitionTimer = null;\n      }, o);\n    }\n\n    this.after.style.width = this.exposure + \"%\";\n  };\n\n  e.prototype.onKeyDown = function (e) {\n    if (this.keyboardSlideAnimationTimeoutId) {\n      return;\n    }\n\n    var t = e.key;\n\n    if (!Object.keys(KeySlideOffset).includes(t)) {\n      return;\n    }\n\n    this.startSlideAnimation(KeySlideOffset[t]);\n  };\n\n  e.prototype.onKeyUp = function (e) {\n    if (!this.keyboardSlideAnimationTimeoutId) {\n      return;\n    }\n\n    if (!Object.keys(KeySlideOffset).includes(e.key)) {\n      return;\n    }\n\n    this.stopSlideAnimation();\n  };\n\n  e.prototype.onMouseDown = function (e) {\n    window.addEventListener(\"mousemove\", this.onWindowMouseMove);\n    this.isMouseDown = true;\n    this.slideToPageX(e.pageX, true);\n    this.el.focus();\n    this.bodyUserSelectStyle = window.document.body.style.userSelect;\n    window.document.body.style.userSelect = \"none\";\n  };\n\n  e.prototype.onMouseUp = function (e) {\n    this.isMouseDown = false;\n    window.document.body.style.userSelect = this.bodyUserSelectStyle;\n    window.removeEventListener(\"mousemove\", this.onWindowMouseMove);\n  };\n\n  e.prototype.onTouchStart = function (e) {\n    this.touchStartPoint = getTouchPagePoint(e);\n\n    if (this.isFocused) {\n      this.slideToPageX(e.touches[0].pageX, true);\n    }\n  };\n\n  e.prototype.onTouchMove = function (e) {\n    if (this.isTouchComparing) {\n      this.slideToPageX(e.touches[0].pageX);\n      e.preventDefault();\n      return false;\n    }\n\n    if (!this.hasTouchMoved) {\n      var t = getTouchPagePoint(e);\n\n      if (Math.abs(t.y - this.touchStartPoint.y) < Math.abs(t.x - this.touchStartPoint.x)) {\n        this.isTouchComparing = true;\n        this.el.focus();\n        this.slideToPageX(e.touches[0].pageX, true);\n        e.preventDefault();\n        return false;\n      }\n\n      this.hasTouchMoved = true;\n    }\n  };\n\n  e.prototype.touchEnd = function () {\n    this.isTouchComparing = false;\n    this.hasTouchMoved = false;\n  };\n\n  e.prototype.onBlur = function () {\n    this.stopSlideAnimation();\n    this.isFocused = false;\n  };\n\n  e.prototype.onFocus = function () {\n    this.isFocused = true;\n  };\n\n  e.prototype.updateAfterWidth = function () {\n    this.imageWidth = this.el.offsetWidth;\n    this.afterImageContainer.style.width = this.el.offsetWidth + \"px\";\n  };\n\n  e.prototype.slideToPageX = function (e, t) {\n    if (t === void 0) {\n      t = false;\n    }\n\n    var i = e - this.el.getBoundingClientRect().left - window.scrollX;\n    this.exposure = i / this.imageWidth * 100;\n    this.slide(0, t);\n  };\n\n  e.prototype.startSlideAnimation = function (e) {\n    var t = this;\n    var i = 120;\n    var o = 1 * e;\n\n    var n = function () {\n      t.keyboardSlideAnimationTimeoutId = window.setTimeout(function () {\n        t.animationRequestId = window.requestAnimationFrame(n);\n      }, 1e3 / i);\n      t.slide(o);\n    };\n\n    n();\n  };\n\n  e.prototype.stopSlideAnimation = function () {\n    if (!this.keyboardSlideAnimationTimeoutId) {\n      return;\n    }\n\n    window.clearTimeout(this.keyboardSlideAnimationTimeoutId);\n    window.cancelAnimationFrame(this.animationRequestId);\n    this.keyboardSlideAnimationTimeoutId = null;\n    this.animationRequestId = null;\n  };\n\n  e.prototype.render = function () {\n    var e = this;\n    return h(\"div\", null, h(\"div\", {\n      class: \"before\",\n      ref: function (t) {\n        return e.before = t;\n      }\n    }, h(\"slot\", {\n      name: \"before\"\n    })), h(\"div\", {\n      class: \"after\",\n      ref: function (t) {\n        return e.after = t;\n      }\n    }, h(\"div\", {\n      class: \"handle-wrapper\"\n    }, h(\"slot\", {\n      name: \"handle\"\n    }, h(\"div\", {\n      class: \"handle\"\n    }))), h(\"div\", {\n      class: \"after-overlay\"\n    }, h(\"div\", {\n      ref: function (t) {\n        return e.afterImageContainer = t;\n      }\n    }, h(\"slot\", {\n      name: \"after\"\n    })))));\n  };\n\n  Object.defineProperty(e.prototype, \"el\", {\n    get: function () {\n      return getElement(this);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return e;\n}();\n\nImgComparisonSlider.style = imgComparisonSliderCss;\nexport { ImgComparisonSlider as img_comparison_slider };","map":{"version":3,"sources":["C:/my-app/node_modules/img-comparison-slider/dist/esm-es5/img-comparison-slider.entry.js"],"names":["r","registerInstance","h","g","getElement","inBetween","e","t","i","imgComparisonSliderCss","getTouchPagePoint","x","touches","pageX","y","pageY","KeySlideOffset","ArrowLeft","ArrowRight","ImgComparisonSlider","exposure","isMouseDown","isFocused","onWindowMouseMove","slideToPageX","bodyUserSelectStyle","isTouchComparing","hasTouchMoved","prototype","componentWillLoad","el","querySelectorAll","forEach","addEventListener","preventDefault","updateAfterWidth","componentDidRender","slide","setAttribute","disconnectedCallback","transitionTimer","window","clearTimeout","o","after","style","transition","setTimeout","width","onKeyDown","keyboardSlideAnimationTimeoutId","key","Object","keys","includes","startSlideAnimation","onKeyUp","stopSlideAnimation","onMouseDown","focus","document","body","userSelect","onMouseUp","removeEventListener","onTouchStart","touchStartPoint","onTouchMove","Math","abs","touchEnd","onBlur","onFocus","imageWidth","offsetWidth","afterImageContainer","getBoundingClientRect","left","scrollX","n","animationRequestId","requestAnimationFrame","cancelAnimationFrame","render","class","ref","before","name","defineProperty","get","enumerable","configurable","img_comparison_slider"],"mappings":"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","sourcesContent":["import{r as registerInstance,h,g as getElement}from\"./index-6a8d4a1b.js\";var inBetween=function(e,t,i){if(e<t){return t}if(e>i){return i}return e};var imgComparisonSliderCss=':host{--divider-width:1px;--divider-color:#d7d7d7;--handle-size:40px;--handle-color:#d7d7d7;--handle-opacity:0.5;--handle-opacity-active:0;position:relative;display:inline-block;font-size:0;overflow:hidden;isolation:isolate;line-height:0}:host(:focus) .handle-wrapper{opacity:var(--handle-opacity-active)}::slotted(img){-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;user-drag:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.before{position:relative;z-index:-2}.after{position:absolute;left:0;top:0;bottom:0;z-index:-1}.after .after-overlay{overflow:hidden}.after:before{content:\" \";position:absolute;display:block;right:calc(var(--divider-width) * -0.5);top:0;bottom:0;border-right-width:var(--divider-width);border-right-style:solid;border-right-color:var(--divider-color)}.handle-wrapper{position:absolute;width:var(--handle-size);height:var(--handle-size);margin-top:calc(var(--handle-size) / (-2));margin-right:calc(var(--handle-size) / (-2));top:50%;right:0;pointer-events:none;-webkit-box-sizing:border-box;box-sizing:border-box;opacity:var(--handle-opacity);-webkit-transition:opacity 1s;transition:opacity 1s}.handle{background-color:var(--handle-color);width:var(--handle-size);height:var(--handle-size);-webkit-transition:-webkit-transform 1s;transition:-webkit-transform 1s;transition:transform 1s;transition:transform 1s, -webkit-transform 1s;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-box-shadow:0px 0px 15px 0px rgba(0, 0, 0, 0.75);box-shadow:0px 0px 15px 0px rgba(0, 0, 0, 0.75)}.focused .handle{-webkit-transform:rotate(45deg) scale(1.5);transform:rotate(45deg) scale(1.5)}';var getTouchPagePoint=function(e){return{x:e.touches[0].pageX,y:e.touches[0].pageY}};var KeySlideOffset={ArrowLeft:-1,ArrowRight:1};var ImgComparisonSlider=function(){function e(e){var t=this;registerInstance(this,e);this.exposure=50;this.isMouseDown=false;this.isFocused=false;this.onWindowMouseMove=function(e){if(t.isMouseDown){t.slideToPageX(e.pageX)}};this.bodyUserSelectStyle=\"\";this.isTouchComparing=false;this.hasTouchMoved=false}e.prototype.componentWillLoad=function(){var e=this;this.el.querySelectorAll(\"img\").forEach((function(t){t.addEventListener(\"dragstart\",(function(e){e.preventDefault()}));t.addEventListener(\"load\",(function(){e.updateAfterWidth()}))}))};e.prototype.componentDidRender=function(){this.slide(0);this.updateAfterWidth();this.el.setAttribute(\"tabindex\",\"0\")};e.prototype.disconnectedCallback=function(){if(this.transitionTimer){window.clearTimeout(this.transitionTimer)}};e.prototype.slide=function(e,t){var i=this;if(e===void 0){e=0}if(t===void 0){t=false}this.exposure=inBetween(this.exposure+e,0,100);if(t){var o=100;this.after.style.transition=\"width \"+o+\"ms\";this.transitionTimer=window.setTimeout((function(){i.after.style.transition=null;i.transitionTimer=null}),o)}this.after.style.width=this.exposure+\"%\"};e.prototype.onKeyDown=function(e){if(this.keyboardSlideAnimationTimeoutId){return}var t=e.key;if(!Object.keys(KeySlideOffset).includes(t)){return}this.startSlideAnimation(KeySlideOffset[t])};e.prototype.onKeyUp=function(e){if(!this.keyboardSlideAnimationTimeoutId){return}if(!Object.keys(KeySlideOffset).includes(e.key)){return}this.stopSlideAnimation()};e.prototype.onMouseDown=function(e){window.addEventListener(\"mousemove\",this.onWindowMouseMove);this.isMouseDown=true;this.slideToPageX(e.pageX,true);this.el.focus();this.bodyUserSelectStyle=window.document.body.style.userSelect;window.document.body.style.userSelect=\"none\"};e.prototype.onMouseUp=function(e){this.isMouseDown=false;window.document.body.style.userSelect=this.bodyUserSelectStyle;window.removeEventListener(\"mousemove\",this.onWindowMouseMove)};e.prototype.onTouchStart=function(e){this.touchStartPoint=getTouchPagePoint(e);if(this.isFocused){this.slideToPageX(e.touches[0].pageX,true)}};e.prototype.onTouchMove=function(e){if(this.isTouchComparing){this.slideToPageX(e.touches[0].pageX);e.preventDefault();return false}if(!this.hasTouchMoved){var t=getTouchPagePoint(e);if(Math.abs(t.y-this.touchStartPoint.y)<Math.abs(t.x-this.touchStartPoint.x)){this.isTouchComparing=true;this.el.focus();this.slideToPageX(e.touches[0].pageX,true);e.preventDefault();return false}this.hasTouchMoved=true}};e.prototype.touchEnd=function(){this.isTouchComparing=false;this.hasTouchMoved=false};e.prototype.onBlur=function(){this.stopSlideAnimation();this.isFocused=false};e.prototype.onFocus=function(){this.isFocused=true};e.prototype.updateAfterWidth=function(){this.imageWidth=this.el.offsetWidth;this.afterImageContainer.style.width=this.el.offsetWidth+\"px\"};e.prototype.slideToPageX=function(e,t){if(t===void 0){t=false}var i=e-this.el.getBoundingClientRect().left-window.scrollX;this.exposure=i/this.imageWidth*100;this.slide(0,t)};e.prototype.startSlideAnimation=function(e){var t=this;var i=120;var o=1*e;var n=function(){t.keyboardSlideAnimationTimeoutId=window.setTimeout((function(){t.animationRequestId=window.requestAnimationFrame(n)}),1e3/i);t.slide(o)};n()};e.prototype.stopSlideAnimation=function(){if(!this.keyboardSlideAnimationTimeoutId){return}window.clearTimeout(this.keyboardSlideAnimationTimeoutId);window.cancelAnimationFrame(this.animationRequestId);this.keyboardSlideAnimationTimeoutId=null;this.animationRequestId=null};e.prototype.render=function(){var e=this;return h(\"div\",null,h(\"div\",{class:\"before\",ref:function(t){return e.before=t}},h(\"slot\",{name:\"before\"})),h(\"div\",{class:\"after\",ref:function(t){return e.after=t}},h(\"div\",{class:\"handle-wrapper\"},h(\"slot\",{name:\"handle\"},h(\"div\",{class:\"handle\"}))),h(\"div\",{class:\"after-overlay\"},h(\"div\",{ref:function(t){return e.afterImageContainer=t}},h(\"slot\",{name:\"after\"})))))};Object.defineProperty(e.prototype,\"el\",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();ImgComparisonSlider.style=imgComparisonSliderCss;export{ImgComparisonSlider as img_comparison_slider};"]},"metadata":{},"sourceType":"module"}